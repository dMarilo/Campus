<form>
  <div class="mb-3 row">
    <label for="table-complete-search" class="col-xs-3 col-sm-auto col-form-label"
      >Full text search:</label
    >
    <div class="col-xs-3 col-sm-auto">
      <input
        id="table-complete-search"
        type="text"
        class="form-control"
        name="searchTerm"
        [(ngModel)]="searchTerm"
      />
    </div>
  </div>
  <div style="overflow-x: auto; max-width: 100%">
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Country</th>
          <th scope="col">Area</th>
          <th scope="col">Population</th>
          <th scope="col">Published Year</th>
          <th scope="col">Edition</th>
          <th scope="col">Description</th>
          <th scope="col">Total Copies</th>
          <th scope="col">Available Copies</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (book of filteredBooks(); track book.id) {
          <tr>
            <th scope="row">{{ book.id }}</th>
            <td>{{ book.title }}</td>
            <td>{{ book.author }}</td>
            <td>{{ book.publisher }}</td>
            <td>{{ book.publishedYear }}</td>
            <td>{{ book.edition }}</td>
            <td>{{ book.description }}</td>
            <td>{{ book.totalCopies }}</td>
            <td>{{ book.availableCopies }}</td>
            <td>
              <div class="d-flex gap-2">
                <button type="button" class="btn btn-link text-primary p-0" routerLink="/library/book/{{ book.id }}">
                  <i class="fa fa-eye"></i>
                </button>
                <button type="button" class="btn btn-link text-danger p-0" (click)="deleteBook(book.id)">
                  <i class="fa fa-trash"></i>
                </button>
              </div>
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="9" style="text-align: center">No books found</td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</form>
